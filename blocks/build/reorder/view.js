import*as e from"@wordpress/interactivity";var t={d:(e,s)=>{for(var i in s)t.o(s,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:s[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const s=(a={getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store,useEffect:()=>e.useEffect},o={},t.d(o,a),o),{state:i}=(0,s.store)("fuellogic-app",{state:{get gas_type_text(){const e=(0,s.getContext)();return e.gas_type_list[e.item]},get gas_type_qty(){const e=(0,s.getContext)();return e.siteDetails.data[`${e.item}_qty`]},get machines_text(){const e=(0,s.getContext)();return e.machines_list[e.item]},get machines_qty(){const e=(0,s.getContext)();return e.siteDetails.data[`${e.item}_qty`]}},actions:{showModal:()=>{const e=document.body.querySelector(".wp-block-fuellogic-app-reorder .modal");e&&(e.style.display="flex")},closeReorderModal:()=>{const e=document.body.querySelector(".wp-block-fuellogic-app-reorder .modal");e&&(e.style.display="none")},selectSite:e=>{const t=(0,s.getContext)(),i=t.sites.find((t=>parseInt(t.id)===parseInt(e.target.value)));t.siteDetails=i,t.isButtonDisabled=1!=t.isReviewed||void 0===i},*submitNewOrder(){const e=(0,s.getContext)(),t=new FormData;if(void 0!==e.siteDetails&&""==e.siteDetails)return void alert("Please select a site");t.append("action","add_order_ajax"),t.append("data",JSON.stringify(e.siteDetails.data)),t.append("images",JSON.stringify(e.siteDetails.images)),t.append("gas_type",JSON.stringify(e.siteDetails.gas_type)),t.append("machines",JSON.stringify(e.siteDetails.machines)),t.append("nonce",i.nonce);const a=yield fetch(i.ajaxUrl,{method:"POST",body:t}).then((e=>e.json()));"success"==a.status&&(window.location.href=e.thank_you_page+"?order_id="+a?.order?.order_id)}},callbacks:{toggleReviewed:e=>{const t=(0,s.getContext)();t.isReviewed=e.target.checked,t.isButtonDisabled=1!=e.target.checked||void 0===t.siteDetails},disableButton:()=>{const e=(0,s.getContext)();(0,s.useEffect)((()=>{const{ref:t}=(0,s.getElement)();null!=t&&(e.isButtonDisabled?(t.classList.add("disabled"),t.setAttribute("disabled","disabled")):(t.classList.remove("disabled"),t.removeAttribute("disabled")))}),[e.isButtonDisabled])}}});var a,o;