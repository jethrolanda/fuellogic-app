import*as e from"@wordpress/interactivity";var t={d:(e,s)=>{for(var o in s)t.o(s,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:s[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const s=(n={getElement:()=>e.getElement,store:()=>e.store},l={},t.d(l,n),l),{state:o}=(0,s.store)("fuellogic-app",{state:{get isSitesEmpty(){return o.sites.length<=0}},actions:{*submitForm(e){e.preventDefault();const{ref:t}=(0,s.getElement)(),n=new FormData(t);n.append("action","add_site"),n.append("nonce",o.nonce);const l=yield fetch(o.ajaxUrl,{method:"POST",body:n}).then((e=>e.json()));o.sites=l.data},*deleteSite(){if(confirm("Are you sure?")){const e=new FormData;e.append("action","delete_site"),e.append("nonce",o.nonce),e.append("id",o.selectedSiteId);const t=yield fetch(o.ajaxUrl,{method:"POST",body:e}).then((e=>e.json()));o.sites=t.data}}},callbacks:{openModal:()=>{document.getElementById("myModal").style.display="block"},closeModal:()=>{document.getElementById("myModal").style.display="none"},selectSite:()=>{const{ref:e}=(0,s.getElement)();document.querySelectorAll("ul#sites-list li").forEach((e=>{e.classList.remove("selected")})),e.classList.add("selected");const t=o.sites.filter((t=>parseInt(t.id)===parseInt(e.id)));o.selectedSiteId=e.id,o.selectedSite=t.length?t[0]:""},sortSites:()=>{o.sorted?(console.log(2),o.sites=o.sites.reverse()):(o.sites=o.sites.sort(((e,t)=>e?.name.localeCompare(t?.name))),o.sorted=!0,console.log(1))}}});var n,l;