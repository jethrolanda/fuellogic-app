{"version":3,"file":"site-add/view.js","mappings":"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","sources":["webpack://blocks/./src/site-add/steps.js","webpack://blocks/external module \"@wordpress/interactivity\"","webpack://blocks/webpack/bootstrap","webpack://blocks/webpack/runtime/define property getters","webpack://blocks/webpack/runtime/hasOwnProperty shorthand","webpack://blocks/webpack/runtime/make namespace object","webpack://blocks/./src/site-add/view.js"],"sourcesContent":["export const stepOne = (formData) => {\r\n  if (formData instanceof FormData === false) return false;\r\n\r\n  const site_contact = formData.get(\"official_site_contact\");\r\n\r\n  let stepData = {};\r\n  if (site_contact == \"on\") {\r\n    stepData = {\r\n      site_name: formData.get(\"site_name\"),\r\n      site_delivery_address: formData.get(\"site_delivery_address\")\r\n    };\r\n  } else {\r\n    stepData = {\r\n      site_name: formData.get(\"site_name\"),\r\n      site_delivery_address: formData.get(\"site_delivery_address\"),\r\n      site_contact_first_name: formData.get(\"site_contact_first_name\"),\r\n      site_contact_last_name: formData.get(\"site_contact_last_name\"),\r\n      site_contact_phone: formData.get(\"site_contact_phone\"),\r\n      site_contact_email: formData.get(\"site_contact_email\")\r\n    };\r\n  }\r\n\r\n  let errors = [];\r\n  Object.entries(stepData).forEach(([name, value]) => {\r\n    if (value === \"\" || value === null) {\r\n      errors.push(name);\r\n    }\r\n  });\r\n  return errors.length === 0 ? true : false;\r\n};\r\n\r\nexport const stepTwo = (formData) => {\r\n  if (formData instanceof FormData === false) return false;\r\n\r\n  const stepData = {\r\n    gas_type: formData.getAll(\"gas_type\")\r\n  };\r\n\r\n  // Disable qty\r\n  [\"diesel\", \"gas\", \"dyed_diesel\", \"def\"].forEach((value) => {\r\n    document\r\n      .querySelector(`[name=${value}_qty]`)\r\n      .setAttribute(\"readonly\", \"readonly\");\r\n  });\r\n\r\n  console.log(stepData);\r\n  let data = [];\r\n  Object.entries(stepData.gas_type).forEach(([, value]) => {\r\n    if (value) {\r\n      document.querySelector(`[name=${value}_qty]`).removeAttribute(\"readonly\");\r\n    }\r\n\r\n    if (value !== \"\" && value !== null && formData.get(value + \"_qty\") > 0) {\r\n      data.push(value);\r\n    }\r\n  });\r\n\r\n  return data.length > 0 ? true : false;\r\n};\r\n\r\nexport const stepThree = (formData) => {\r\n  if (formData instanceof FormData === false) return false;\r\n\r\n  const stepData = {\r\n    machines: formData.getAll(\"machines\")\r\n  };\r\n\r\n  // Disable qty\r\n  [\r\n    \"vehicles\",\r\n    \"bulk_tank\",\r\n    \"construction_equipment\",\r\n    \"generators\",\r\n    \"reefer\",\r\n    \"other\"\r\n  ].forEach((value) => {\r\n    document\r\n      .querySelector(`[name=${value}_qty]`)\r\n      .setAttribute(\"readonly\", \"readonly\");\r\n  });\r\n\r\n  let data = [];\r\n  Object.entries(stepData.machines).forEach(([, value]) => {\r\n    if (value) {\r\n      document.querySelector(`[name=${value}_qty]`).removeAttribute(\"readonly\");\r\n    }\r\n    if (value !== \"\" && value !== null && formData.get(value + \"_qty\") > 0) {\r\n      data.push(value);\r\n    }\r\n  });\r\n\r\n  return data.length > 0 ? true : false;\r\n};\r\n\r\nexport const stepFour = (formData) => {\r\n  if (formData instanceof FormData === false) return false;\r\n\r\n  const otd = formData.get(\"one_time_delivery\");\r\n\r\n  let stepData = {};\r\n\r\n  if (otd === \"on\") {\r\n    stepData = {\r\n      delivery_date: formData.get(\"delivery_date\")\r\n      // delivery_window: formData.get(\"delivery_window\")\r\n    };\r\n  } else {\r\n    stepData = {\r\n      day: formData.getAll(\"day\"),\r\n      delivery_start_date: formData.get(\"delivery_start_date\")\r\n      // delivery_window: formData.get(\"delivery_window\")\r\n    };\r\n  }\r\n\r\n  let errors = [];\r\n  Object.entries(stepData).forEach(([name, value]) => {\r\n    if (value === \"\" || value === null || value.length === 0) {\r\n      errors.push(name);\r\n    }\r\n  });\r\n\r\n  return errors.length === 0 ? true : false;\r\n};\r\n\r\nexport const stepFive = (formData) => {\r\n  if (formData instanceof FormData === false) return false;\r\n\r\n  const stepData = {\r\n    notes: formData.get(\"notes\")\r\n    // images: formData.getAll(\"images\")\r\n  };\r\n\r\n  let errors = [];\r\n  Object.entries(stepData).forEach(([name, value]) => {\r\n    if (value === \"\" || value === null || value.length === 0) {\r\n      errors.push(name);\r\n    }\r\n  });\r\n\r\n  return errors.length === 0 ? true : false;\r\n};\r\n\r\nexport const stepSix = (formData) => {\r\n  if (formData instanceof FormData === false) return false;\r\n\r\n  const pm = formData.get(\"payment_method\");\r\n\r\n  let stepData = {};\r\n  if (pm === \"payment_on_file\") {\r\n    stepData = {\r\n      payment_method: formData.get(\"payment_method\"),\r\n      pre_authorization_email: formData.get(\"pre_authorization_email\")\r\n    };\r\n  } else {\r\n    stepData = {\r\n      payment_method: formData.get(\"payment_method\")\r\n    };\r\n  }\r\n\r\n  let errors = [];\r\n  Object.entries(stepData).forEach(([name, value]) => {\r\n    if (value === \"\" || value === null || value.length === 0) {\r\n      errors.push(name);\r\n    }\r\n  });\r\n\r\n  return errors.length === 0 ? true : false;\r\n};\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {\n  stepOne,\n  stepTwo,\n  stepThree,\n  stepFour,\n  stepFive,\n  stepSix\n} from \"./steps\";\n/**\n * WordPress dependencies\n */\nimport { store, getContext, getElement } from \"@wordpress/interactivity\";\n\nconst { state, actions, callbacks } = store(\"fuellogic-app\", {\n  state: {\n    get siteName() {\n      const context = getContext();\n\n      if (context.formData == \"\") return \"My Site\";\n\n      return context.formData.get(\"site_name\") !== \"\"\n        ? context.formData.get(\"site_name\")\n        : \"My Site\";\n    },\n    get next() {\n      const context = getContext();\n      return context.submitBtnStatus[context.currentStep];\n    },\n    get deliveryDate() {\n      const context = getContext();\n      const delivery_date = context.formData.get(\"delivery_date\");\n      return delivery_date !== \"\" ? delivery_date : \" \";\n    },\n    get isIncomplete() {\n      const context = getContext();\n      if (context.submitBtnStatus.length === 0) return \"block\";\n      return context.submitBtnStatus[context.currentStep] ? \"none\" : \"block\";\n    },\n    get isNextStep() {\n      const context = getContext();\n      if (context.submitBtnStatus.length === 0) return \"none\";\n      return context.submitBtnStatus[context.currentStep] &&\n        context.currentStep < 6\n        ? \"block\"\n        : \"none\";\n    },\n    get isSubmitOrder() {\n      const context = getContext();\n      if (context.submitBtnStatus.length === 0) return \"none\";\n      return context.submitBtnStatus[context.currentStep] &&\n        context.currentStep >= 6\n        ? \"block\"\n        : \"none\";\n    }\n  },\n  actions: {\n    *submitForm() {\n      const context = getContext();\n      const formData = new FormData();\n\n      formData.append(\"action\", \"save_site_and_order\");\n      formData.append(\n        \"data\",\n        JSON.stringify(Object.fromEntries(context.formData))\n      );\n      formData.append(\n        \"images\",\n        JSON.stringify(context.formData.getAll(\"images\"))\n      );\n      formData.append(\n        \"gas_type\",\n        JSON.stringify(context.formData.getAll(\"gas_type\"))\n      );\n      formData.append(\n        \"machines\",\n        JSON.stringify(context.formData.getAll(\"machines\"))\n      );\n      formData.append(\"nonce\", state.nonce);\n\n      const data = yield fetch(state.ajaxUrl, {\n        method: \"POST\",\n        body: formData\n      }).then((response) => response.json());\n\n      if (data.status == \"success\") {\n        // Thank you page redirect\n        window.location.href =\n          context.thank_you_page + \"?order_id=\" + data?.order?.order_id;\n      }\n    },\n    submitButton: (e) => {\n      e.preventDefault();\n      const context = getContext();\n\n      if (context.submitBtnStatus[context.currentStep]) {\n        // If last step then submit the form\n        if (parseInt(context.currentStep) === 6) {\n          // document.getElementById(\"site-form\").submit();\n          actions.submitForm();\n          return;\n        }\n\n        const active = document.getElementsByClassName(\"active\");\n\n        // Set current step\n        context.currentStep = parseInt(context.currentStep) + 1;\n        const nextStep = document.querySelectorAll(\n          `li[data-step=\"${context.currentStep}\"]`\n        );\n\n        // Transfer the active tab step\n        active[0].classList.remove(\"active\");\n\n        if (nextStep.length > 0) nextStep[0].classList.add(\"active\");\n\n        // Show step content\n        callbacks.init();\n      }\n    }\n  },\n  callbacks: {\n    init: () => {\n      const context = getContext();\n      const step = context.currentStep;\n\n      // Content\n      const contents = document.getElementsByClassName(\"step-content\");\n\n      for (let content of contents) {\n        const contentStep = content.dataset.step;\n\n        if (step == contentStep) {\n          content.removeAttribute(\"hidden\");\n        } else {\n          content.setAttribute(\"hidden\", \"true\");\n        }\n      }\n    },\n    navigate: () => {\n      const context = getContext();\n      const { ref } = getElement();\n      const active = document.getElementsByClassName(\"active\");\n      const step = ref.dataset.step;\n\n      // Disable step navigation when in readonly mode\n      if (context.site_id == 0) {\n        // Only navigate when the step is done\n        if (ref.classList.contains(\"done\") === false) {\n          return;\n        }\n      }\n\n      // Set current step\n      context.currentStep = step;\n\n      // Transfer the active tab step\n      active[0].classList.remove(\"active\");\n      ref.classList.add(\"active\");\n\n      // Show step content\n      callbacks.init();\n      // callbacks.adjustFormContentHeight();\n    },\n    onFormUpdate: () => {\n      const { ref } = getElement();\n      const context = getContext();\n      const formData = new FormData(ref);\n      context.formData = formData;\n\n      // Show authorization email\n      const paymentMethod = formData.get(\"payment_method\");\n      const authorization_email = document.getElementById(\n        \"pre_authorization_email\"\n      );\n      if (paymentMethod == \"payment_on_file\") {\n        if (authorization_email) {\n          authorization_email.style.display = \"flex\";\n        }\n      } else {\n        if (authorization_email) {\n          authorization_email.style.display = \"none\";\n        }\n      }\n\n      const otd = formData.get(\"one_time_delivery\");\n\n      // Show wrapper container\n      // if (otd !== null) {\n      //   document.getElementsByClassName(\n      //     \"delivery-schedule-wrapper\"\n      //   )[0].style.display = \"block\";\n      // }\n\n      // Toggle delivery schedule\n      if (otd === \"on\") {\n        const option1 = document.body.getElementsByClassName(\"option1\");\n        for (let i = 0; i < option1.length; i++) {\n          option1[i].style.display = \"none\";\n        }\n        const option2 = document.body.getElementsByClassName(\"option2\");\n        for (let i = 0; i < option2.length; i++) {\n          option2[i].style.display = \"flex\";\n        }\n      } else {\n        const option2 = document.body.getElementsByClassName(\"option2\");\n        for (let i = 0; i < option2.length; i++) {\n          option2[i].style.display = \"none\";\n        }\n        const option1 = document.body.getElementsByClassName(\"option1\");\n        for (let i = 0; i < option1.length; i++) {\n          option1[i].style.display = \"flex\";\n        }\n      }\n      console.log(JSON.stringify(Object.fromEntries(formData)));\n      callbacks.submitButtonStatus();\n\n      callbacks.doneSteps();\n    },\n    onSiteNameChange: () => {\n      const { ref } = getElement();\n      const context = getContext();\n      context.siteName = ref.value;\n    },\n    submitButtonStatus: () => {\n      // e.preventDefault();\n      const context = getContext();\n      switch (parseInt(context.currentStep)) {\n        case 1:\n          context.submitBtnStatus = {\n            ...context.submitBtnStatus,\n            [context.currentStep]: stepOne(context.formData)\n          };\n\n          break;\n        case 2:\n          context.submitBtnStatus = {\n            ...context.submitBtnStatus,\n            [context.currentStep]: stepTwo(context.formData)\n          };\n          break;\n        case 3:\n          context.submitBtnStatus = {\n            ...context.submitBtnStatus,\n            [context.currentStep]: stepThree(context.formData)\n          };\n          break;\n        case 4:\n          context.submitBtnStatus = {\n            ...context.submitBtnStatus,\n            [context.currentStep]: stepFour(context.formData)\n          };\n          break;\n        case 5:\n          context.submitBtnStatus = {\n            ...context.submitBtnStatus,\n            [context.currentStep]: stepFive(context.formData)\n          };\n          break;\n        case 6:\n          context.submitBtnStatus = {\n            ...context.submitBtnStatus,\n            [context.currentStep]: stepSix(context.formData)\n          };\n          break;\n        default:\n          break;\n      }\n    },\n    toggleSiteContact: () => {\n      const { ref } = getElement();\n      const context = getContext();\n      const fname = document.getElementById(\"site_contact_first_name\");\n      const lname = document.getElementById(\"site_contact_last_name\");\n      const phone = document.getElementById(\"site_contact_phone\");\n      const email = document.getElementById(\"site_contact_email\");\n      if (ref.checked) {\n        fname.value = context.current_user.first_name;\n        fname.setAttribute(\"readonly\", \"readonly\");\n        lname.value = context.current_user.last_name;\n        lname.setAttribute(\"readonly\", \"readonly\");\n        phone.value = context.current_user.phone;\n        phone.setAttribute(\"readonly\", \"readonly\");\n        email.value = context.current_user.email;\n        email.setAttribute(\"readonly\", \"readonly\");\n      } else {\n        fname.value = \"\";\n        lname.value = \"\";\n        phone.value = \"\";\n        email.value = \"\";\n        fname.removeAttribute(\"readonly\");\n        lname.removeAttribute(\"readonly\");\n        phone.removeAttribute(\"readonly\");\n        email.removeAttribute(\"readonly\");\n      }\n      // Trigger form update\n      var event = new Event(\"change\");\n      document.getElementById(\"site-form\").dispatchEvent(event);\n    },\n    doneSteps: () => {\n      const context = getContext();\n\n      const steps = document\n        .getElementById(\"steps-nav\")\n        .getElementsByTagName(\"li\");\n\n      // Disable step navigation when in readonly mode\n      if (context.site_id == 0) {\n        for (let step of steps) {\n          if (context.submitBtnStatus[step.dataset.step]) {\n            step.classList.add(\"done\");\n          } else {\n            step.classList.remove(\"done\");\n          }\n        }\n      }\n    },\n    adjustFormContentHeight: () => {\n      var el = document.getElementById(\"steps-container\");\n      el.style.height = \"auto\";\n      console.log(\"adjustformcontentheight\");\n      var space = window.innerHeight - el.offsetTop;\n      el.style.height = space + \"px\";\n    },\n    setSiteDetails: () => {\n      const { ref } = getElement();\n      const context = getContext();\n\n      Object.entries(context.site_data).forEach((a) => {\n        // console.log(a);\n        if ([\":r3:\", \"file\"].includes(a[0]) || a[1] == \"\") return;\n        else {\n          const input = ref.querySelectorAll(`input[name=\"${a[0]}\"]`);\n          if (input.length > 0) input[0].value = a[1];\n          const textarea = ref.querySelectorAll(`textarea[name=\"${a[0]}\"]`);\n          if (textarea.length > 0) textarea[0].value = a[1];\n          const radio = ref.querySelectorAll(`input[value=\"${a[1]}\"]`);\n          if (radio.length > 0) radio[0].setAttribute(\"checked\", \"checked\");\n        }\n      });\n      Object.entries(context.gas_type).forEach((a) => {\n        const field = ref.querySelectorAll(`input[value=\"${a[1]}\"]`);\n        console.log(field);\n        if (field.length > 0) field[0].setAttribute(\"checked\", \"checked\");\n      });\n      Object.entries(context.machines).forEach((a) => {\n        const field = ref.querySelectorAll(`input[value=\"${a[1]}\"]`);\n        console.log(field);\n        if (field.length > 0) field[0].setAttribute(\"checked\", \"checked\");\n      });\n      // console.log(context.site_data);\n      // console.log(ref);\n      const formData = new FormData(ref);\n      console.log(JSON.stringify(Object.fromEntries(formData)));\n\n      // Trigger form update\n      var event = new Event(\"change\");\n      document.getElementById(\"site-form\").dispatchEvent(event);\n    }\n  }\n});\n"],"names":["stepOne","formData","FormData","site_contact","get","stepData","site_name","site_delivery_address","site_contact_first_name","site_contact_last_name","site_contact_phone","site_contact_email","errors","Object","entries","forEach","name","value","push","length","stepTwo","gas_type","getAll","document","querySelector","setAttribute","console","log","data","removeAttribute","stepThree","machines","stepFour","otd","delivery_date","day","delivery_start_date","stepFive","notes","stepSix","pm","payment_method","pre_authorization_email","store","getContext","getElement","state","actions","callbacks","siteName","context","next","submitBtnStatus","currentStep","deliveryDate","isIncomplete","isNextStep","isSubmitOrder","submitForm","append","JSON","stringify","fromEntries","nonce","fetch","ajaxUrl","method","body","then","response","json","status","window","location","href","thank_you_page","order","order_id","submitButton","e","preventDefault","parseInt","active","getElementsByClassName","nextStep","querySelectorAll","classList","remove","add","init","step","contents","content","contentStep","dataset","navigate","ref","site_id","contains","onFormUpdate","paymentMethod","authorization_email","getElementById","style","display","option1","i","option2","submitButtonStatus","doneSteps","onSiteNameChange","toggleSiteContact","fname","lname","phone","email","checked","current_user","first_name","last_name","event","Event","dispatchEvent","steps","getElementsByTagName","adjustFormContentHeight","el","height","space","innerHeight","offsetTop","setSiteDetails","site_data","a","includes","input","textarea","radio","field"],"sourceRoot":""}