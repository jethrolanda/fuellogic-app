import*as e from"@wordpress/interactivity";var t={d:(e,r)=>{for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const r=(n={getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store},s={},t.d(s,n),s),{state:o}=(0,r.store)("fuellogic-app",{state:{get isMsgEmpty(){return 0===(0,r.getContext)().login_msg.length}},actions:{*login(e){var t,n;e.preventDefault();const s=(0,r.getContext)(),a=new FormData;a.append("action","fla_login"),a.append("_ajax_nonce",o.nonce),a.append("uname",s.uname),a.append("pword",s.pword),a.append("remember",s.remember);const l=yield fetch(o.ajaxUrl,{method:"POST",body:a}).then((e=>e.json()));s.login_status=null!==(t=l.status)&&void 0!==t?t:"",s.login_msg=null!==(n=l.message)&&void 0!==n?n:"","error"==l.status?("empty_username"===l.code&&document.querySelector('input[name="uname"]').classList.add("error"),"empty_password"===l.code&&document.querySelector('input[name="pword"]').classList.add("error"),document.querySelector(".login-message").classList.add("error")):(document.querySelector('input[name="uname"]').classList.remove("error"),document.querySelector('input[name="pword"]').classList.remove("error"),window.location.href=o.login_redirect)}},callbacks:{setUserName:()=>{const e=(0,r.getContext)(),t=(0,r.getElement)();e.uname=t.ref.value,0===e.uname.length?t.ref.classList.add("error"):t.ref.classList.remove("error")},setPassword:()=>{const e=(0,r.getContext)(),t=(0,r.getElement)();e.pword=t.ref.value,0===e.pword.length?t.ref.classList.add("error"):t.ref.classList.remove("error")},setRemember:()=>{const e=(0,r.getContext)(),t=(0,r.getElement)();e.remember=t.ref.checked},renderLoginMsg:()=>{const e=(0,r.getContext)();(0,r.getElement)().ref.innerHTML=e.login_msg}}});var n,s;